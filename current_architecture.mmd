graph TD
    %% Legend
    subgraph Legend
        direction LR
        L1[Component] --> L2[Interaction/Flow]
        style L1 fill:#f9f,stroke:#333,stroke-width:2px
        style L2 stroke:#333,stroke-width:2px
    end

    %% Main Architecture
    A[User] -->|CLI| B[changelog_generator.py]
    B --> C[git.Repo]
    B --> D[OllamaLLM]
    B --> E[OpenAI]
    B --> F[XAI]
    D --> G[Ollama]
    E --> H[OpenAI API]
    F --> I[XAI API]
    C --> J[Git Repository]
    J --> K[Commit1]
    J --> L[Commit2]
    K --> M[Changes]
    L --> M
    M --> N[Changelog]
    N --> O[Output File]
    B --> P[Logging]
    B --> Q[Retry Mechanism]
    B --> R[Argument Parsing]

    %% Legend Descriptions
    L3[User Interaction] --> L4[CLI Entry Point]
    L5[Data Source] --> L6[Version Control]
    L7[AI Providers] --> L8[Language Models]
    L9[Processing] --> L10[Changelog Generation]
    
    style L3 fill:#bbf,stroke:#333,stroke-width:2px
    style L4 fill:#bbf,stroke:#333,stroke-width:2px
    style L5 fill:#bfb,stroke:#333,stroke-width:2px
    style L6 fill:#bfb,stroke:#333,stroke-width:2px
    style L7 fill:#fbb,stroke:#333,stroke-width:2px
    style L8 fill:#fbb,stroke:#333,stroke-width:2px
    style L9 fill:#ff9,stroke:#333,stroke-width:2px
    style L10 fill:#ff9,stroke:#333,stroke-width:2px
